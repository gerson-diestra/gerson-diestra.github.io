---
title: Examen Final
date: 2024-12-29 22:00:00 -05:00
categories: [Page]
tags: [Page, GitHub]  # TAG names should always be lowercase
---



## SUB-TITULO

1.	**¿Cómo podrías utilizar Procmon y Sysmon juntos para investigar la actividad de un proceso sospechoso?**

	*Explica los tipos de eventos que Procmon y Sysmon pueden capturar de forma complementaria.*

Procmon y Sysmon son herramientas potentes que cuando se utilizan juntas, pueden proporcionar una visión detallada y completa de la actividad de un proceso sospechoso. A continuación, se describe cómo utilizar ambas herramientas de manera complementaria y los tipos de eventos que pueden capturar.

1. Utilización Conjunta de Procmon y Sysmon

Instalación y Configuración:

Procmon: Descargar Procmon de Sysinternals y ejecútar. Utilizar los filtros de Procmon para centrarse en el proceso sospechoso. 

*Por ejemplo*, si se investiga un proceso llamado malware.exe, se configura un filtro para capturar eventos relacionados solo con ese proceso.

Sysmon: Instalar Sysmon con una configuración personalizada. 

*Un ejemplo* de comando para instalar Sysmon con un archivo de configuración específico sería:

```bash
sysmon -accepteula -i sysmonconfig.xml
```

El archivo sysmonconfig.xml debe estar configurado para capturar eventos de interés, como la creación de procesos, conexiones de red y uso de archivos.


Captura de Eventos:

Procmon: Inicia Procmon y comienza a capturar eventos. Procmon puede registrar eventos detallados del sistema de archivos, registro, red y procesos. Filtra por el proceso sospechoso para ver solo los eventos relevantes.

Sysmon: Sysmon registra eventos a nivel del sistema en segundo plano. Puedes ver los logs generados por Sysmon utilizando el Visor de Eventos de Windows (Event Viewer) bajo el nodo Applications and Services Logs > Microsoft > Windows > Sysmon.


Análisis de Eventos:

Procmon: Analiza los eventos capturados en Procmon. Busca actividades inusuales como acceso no autorizado a archivos críticos, modificaciones en el registro y conexiones de red sospechosas. Por ejemplo, un evento de registro podría mostrar malware.exe intentando modificar una clave importante en el registro:

```bash
Registry Key: HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Run
Operation: SetValue
```

Sysmon: Utiliza los logs de Sysmon para obtener una visión más amplia de la actividad del proceso. Por ejemplo, un evento de creación de proceso (Event ID 1) puede mostrar detalles del malware.exe:


```bash
<EventData>
  <Data Name="RuleName">-</Data>
  <Data Name="UtcTime">2023-12-29 15:45:00.000</Data>
  <Data Name="ProcessGuid">{9e62d0cd-2b27-5c59-0000-00103a000000}</Data>
  <Data Name="ProcessId">1234</Data>
  <Data Name="Image">C:\malware\malware.exe</Data>
  <Data Name="CommandLine">malware.exe /silent</Data>
  <Data Name="CurrentDirectory">C:\malware\</Data>
  <Data Name="User">DOMAIN\user</Data>
  <Data Name="LogonGuid">{9e62d0cd-2b27-5c59-0000-00103a000000}</Data>
  <Data Name="LogonId">0x3e7</Data>
  <Data Name="TerminalSessionId">1</Data>
  <Data Name="IntegrityLevel">High</Data>
  <Data Name="Hashes">SHA1=...</Data>
</EventData>
```

1.1 Tipos de Eventos Capturados por Procmon y Sysmon
Procmon puede capturar los siguientes tipos de eventos:

Sistema de Archivos: Operaciones de lectura, escritura, creación y eliminación de archivos. Ejemplo: FileCreate, FileWrite.

Registro: Operaciones de lectura, escritura, creación y eliminación de claves y valores del registro. Ejemplo: RegSetValue, RegQueryKey.

Red: Actividad de red como la apertura y cierre de conexiones TCP/UDP. Ejemplo: TCPConnect, TCPDisconnect.

Procesos/Subprocesos: Creación, terminación y manipulación de procesos y subprocesos. Ejemplo: ProcessCreate, ThreadCreate.

Sysmon puede capturar los siguientes tipos de eventos complementarios:

Creación de Procesos (Event ID 1): Información detallada sobre la creación de procesos, incluyendo la ruta del ejecutable, línea de comandos y usuario.

Conexiones de Red (Event ID 3): Detalles sobre las conexiones TCP/UDP establecidas por el proceso, incluyendo direcciones IP y puertos.

Acceso a Archivos (Event ID 11): Hashes de archivos ejecutados o modificados, lo que permite verificar la integridad de los archivos.

Cambios en el Registro (Event ID 13): Modificaciones en el registro que podrían indicar actividad maliciosa.


	*Proporciona un ejemplo práctico de cómo identificar un posible comportamiento malicioso en un proceso utilizando ambas herramientas.*


2.	**En Sysmon, ¿qué diferencias existen entre los eventos ProcessCreate y ProcessAccess, y qué utilidad tienen cada uno para un analista de seguridad?**

	Describe los atributos principales de ambos eventos.

	Investiga y menciona al menos dos escenarios donde cada evento podría ser clave en la detección de amenazas.

3.	**En Procmon, ¿qué operación(es) corresponde(n) al evento FileCreateStreamHash en Sysmon, y cómo podrías configurarlo en Sysmon para detectar un posible uso malicioso de Alternate Data Streams (ADS)?**

	Investiga qué son los Alternate Data Streams y por qué podrían ser usados por atacantes.

	Especifica qué operaciones de Procmon están relacionadas con este tipo de actividad.

4.	**En Sysmon, ¿qué ventajas ofrece el uso de filtros avanzados en comparación con capturar todos los eventos de forma indiscriminada?**

	Investiga cómo un mal diseño de filtros podría afectar el desempeño del sistema y la calidad de los logs.

	Proporciona un ejemplo de un filtro efectivo para reducir ruido en un entorno de producción.





## NOTAS WEB SITE

**TIPS PARA IMPLEMENTAR WEBSITE EN GITHUB**

Se instalaron las siguientes librerías

![alt text](/assets/images/Libraries.png)

Se modifica la versión del wdm a 0.2.0

![alt text](/assets/images/gemfile.png)

Se instala wdm en la versión 0.2.0

![alt text](/assets/images/wdm.png)


## ESTRUCTURA WEB SITE

A continuación se muestra un esquema para la redacción de la página en GitHub

# TITULO

## SUB-TITULO

### SECCIONES


### SUB-SECCIONES


Listas

1. item 1
2. item 2
3. item 3


y ahora ejemplo para mostrar comandos:

        plain-text code

```bash
bundle exec jetkyll s 
```

ejemplo para mostrar comandos de python:

```python
python some_python_file.py
```

Para mostrar Tabla:

|Columna 1 | Columna 2|
|item 1 | item 2|
|fila 1 | fila 3 |

**Este es un texto es formato BOLD**

*Este es un formato en format cursiva*

## NOTAS WEB SITE

**TIPS PARA IMPLEMENTAR WEBSITE EN GITHUB**

Se instalaron las siguientes librerías

![alt text](/assets/images/Libraries.png)

Se modifica la versión del wdm a 0.2.0

![alt text](/assets/images/gemfile.png)

Se instala wdm en la versión 0.2.0

![alt text](/assets/images/wdm.png)